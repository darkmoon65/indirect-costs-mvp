generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Planta {
  id          Int          @id @default(autoincrement())
  nombre      String
  operaciones Operacion[]
}

model Operacion {
  id          Int          @id @default(autoincrement())
  nombre      String
  plantaId    Int
  planta      Planta       @relation(fields: [plantaId], references: [id])
  costos      CostoPorVolumen[]
}

model Volumen {
  id      Int               @id @default(autoincrement())
  nombre  String            @unique
  costos  CostoPorVolumen[]
}

model CostoPorVolumen {
  id          Int        @id @default(autoincrement())
  operacionId Int
  volumenId   Int
  costo       Float

  operacion   Operacion  @relation(fields: [operacionId], references: [id])
  volumen     Volumen    @relation(fields: [volumenId], references: [id])

  @@unique([operacionId, volumenId])
}

